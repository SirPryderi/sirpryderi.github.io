"use strict";(self.webpackChunksirpryderi_github_io=self.webpackChunksirpryderi_github_io||[]).push([[454],{9454:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var o=n(7294),i=n(5086),a=n(2212);const r=new a.Pa4,s=new a.Pa4,c=new a.Pa4,l=new a.Pa4,p=new a._fP,d=new a.Pa4,w=new a.Pa4,u=new a._fP,h=new a.yGw,m=new a.Pa4(0,1,0),M=new a.Pa4(0,0,-1),f=new a.Pa4;let P=0,v=0,x=0,y=0;function C(e,t,n){if(P!==e.fov||v!==e.aspect){P=e.fov,v=e.aspect;const t=e.fov*(Math.PI/180);x=Math.tan(t/2),y=v*x}return r.set(y,-x,-1).normalize(),s.copy(r).lerp(M,n).normalize(),c.copy(s).applyQuaternion(e.quaternion),l.subVectors(t.position,e.position).normalize(),p.setFromUnitVectors(c,l),d.set(0,0,-1).applyQuaternion(e.quaternion).applyQuaternion(p),w.copy(e.position).add(d),h.lookAt(e.position,w,m),u.setFromRotationMatrix(h)}function g(e,t,n,o){let i=80,r=160;const s=1.2*Math.PI;o<1&&(i=a.M8C.lerp(160,80,o),r=360);const c=a.M8C.lerp(i,r,t);let l=(e.x-.5)*Math.PI*2*-n,p=(e.y-.5)*Math.PI*n;return l-=a.M8C.lerp(0,s,t),[c,l,p]}var b;const F=.01,R=.02,_=.1;let[z,I]=Q(),S=window.scrollY/(document.body.scrollHeight-I)||0;const E=new a.FM8(.5,.5),k=new a.xsS;k.background=new a.Ilk(658956);const q=new a.cek(16777215,1);q.position.set(-2e3,0,0),k.add(q);const L=new a.cPb(35,z/I,.1,1e3),V=new a.CP7({antialias:!0,powerPreference:"high-performance"});V.setSize(z,I),V.setClearColor(0,0),V.capabilities.isWebGL2&&V.getContext().getExtension("EXT_texture_filter_anisotropic"),V.setPixelRatio(window.devicePixelRatio);const Y=new a.xoR({color:16777215,shininess:0,emissive:658956}),j=(new a.dpR).load("/assets/texture.png");j.anisotropy=8,j.minFilter=a.D1R,j.magFilter=a.wem,Y.map=j;const A=(new a.dpR).load("/assets/displacement.jpg");A.anisotropy=8,A.minFilter=a.D1R,A.magFilter=a.wem,Y.bumpMap=A,Y.bumpScale=.3,Y.displacementMap=A,Y.displacementMap.wrapS=a.rpg,Y.displacementMap.wrapT=a.rpg,Y.displacementScale=2,Y.displacementBias=1;const D=function(){const e=window.devicePixelRatio||1,t=z*I,n=Math.sqrt(t/2073600)*e,o=Math.min(512,Math.max(64,Math.floor(256*n))),i=Math.min(256,Math.max(32,Math.floor(128*n)));return new a.xo$(30,o,i)}(),H=new a.Kj0(D,Y);function Q(){var e,t;return[(null===(e=window.visualViewport)||void 0===e?void 0:e.width)||window.innerWidth,(null===(t=window.visualViewport)||void 0===t?void 0:t.height)||window.innerHeight]}function G(){const[e,t]=Q();e===z&&t===I||(z=e,I=t,L.aspect=z/I,V.setSize(z,I),V.setPixelRatio(window.devicePixelRatio),L.updateProjectionMatrix(),T())}function T(){V.render(k,L)}function U(){let e=0;return{animate:function t(){H.rotation.y=Date.now()/5e5,L.position.copy(function(e,t,n,o,i){const[r,s,c]=g(t,n,o,e.aspect),l=e.position.length(),p=Math.atan2(e.position.x,e.position.z),d=Math.asin(e.position.y/l);let w=s-p;w>Math.PI&&(w-=2*Math.PI),w<-Math.PI&&(w+=2*Math.PI);const u=p+w,h=a.M8C.lerp(l,r,i),m=a.M8C.lerp(p,u,i),M=a.M8C.lerp(d,c,i);return f.set(Math.sin(m)*Math.cos(M)*h,Math.sin(M)*h,Math.cos(m)*Math.cos(M)*h)}(L,E,S,F,R)),L.quaternion.slerp(C(L,H,S),_),T(),e=requestAnimationFrame(t)},stop:function(){cancelAnimationFrame(e)},renderer:V}}k.add(H),L.position.copy(function(e,t,n,o){const[i,a,r]=g(e,t,n,o);return f.set(Math.sin(a)*Math.cos(r)*i,Math.sin(r)*i,Math.cos(a)*Math.cos(r)*i)}(E,S,F,L.aspect)),L.quaternion.copy(C(L,H,S)),window.addEventListener("resize",G,!1),null===(b=window.visualViewport)||void 0===b||b.addEventListener("resize",G,!1),window.addEventListener("mousemove",(function(e){if(E.set(e.clientX/z,e.clientY/I),1!==e.buttons)return}),!1),window.addEventListener("scroll",(function(){S=window.scrollY/(document.body.scrollHeight-I)||0}),!1),function(){const e=new a.u9r,t=new a.UY4({color:8947848}),n=[];for(let i=0;i<1e3;i++){const e=new a.Pa4;e.x=a.M8C.randFloatSpread(2e3),e.y=a.M8C.randFloatSpread(2e3),e.z=a.M8C.randFloatSpread(2e3),n.push(e)}e.setFromPoints(n);const o=new a.woe(e,t);k.add(o)}();const W=i.default.div.withConfig({displayName:"CosmosScene__CanvasContainer",componentId:"sc-1r4iovi-0"})(["position:fixed;bottom:0;left:0;z-index:-1;"]);function X(){const e=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const{animate:t,stop:n,renderer:o}=U();return e.current.replaceChildren(o.domElement),t(),n}),[]),o.createElement(W,{ref:e})}var B=(0,o.memo)(X)}}]);
//# sourceMappingURL=454-fa5d1d95dae3a4c2c247.js.map